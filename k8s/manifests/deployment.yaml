apiVersion: v1
items:
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
    labels:
      app: hello-api
    name: hello-api
    namespace: develop
  spec:
    progressDeadlineSeconds: 600
    replicas: 2
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: hello-api
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        creationTimestamp: null
        labels:
          app: hello-api
      spec:
        #serviceAccountName: hello-api
        securityContext:
          runAsNonRoot: true
          runAsUser: 10001
          runAsGroup: 10001
        containers:
          - image: hello-api:develop
            imagePullPolicy: Never
            name: hello-api
            terminationMessagePath: /dev/termination-log
            terminationMessagePolicy: File
            ports:
              - name: http
                containerPort: 8080
            securityContext:
              allowPrivilegeEscalation: false
              readOnlyRootFilesystem: true
              capabilities: { drop: ["ALL"] }
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        terminationGracePeriodSeconds: 30
kind: List
metadata: {}
